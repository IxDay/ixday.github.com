<!DOCTYPE html>
<html lang="en-us">
  <head>
  <meta charset="utf-8">
  <meta name="generator" content="Hugo 0.29" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <link rel='stylesheet' id='oswald-css'  href='//fonts.googleapis.com/css?family=Oswald&#038;ver=3.3.2' type='text/css' media='all'>
  <link rel="stylesheet" href="http://ixday.github.io/css/style.css" type='text/css' media='all'>
  <link rel="stylesheet" href="http://ixday.github.io/css/pygment.css" type='text/css' media='all'>
  
  <title>Not today... - Linux Mint 2</title>
  <meta property='og:title' content="Linux Mint 2 - Not today...">
  <meta property="og:type" content="article">
  

</head>

  <body>
    <div class="container">
    <header>
  <h1 id="site-title"><a href="http://ixday.github.io/">Not today...</a></h1>
  <nav id="menu">
    <ul>
      
        
          <li><a href="https://github.com/IxDay">github</a></li>
        
      
      
      
      <li><a href="/categories/os">os</a></li>
      
      <li><a href="/categories/project">project</a></li>
      
      <li><a href="/categories/snippet">snippet</a></li>
      
      <li><a href="/categories/tuto">tuto</a></li>
      
      
    </ul>
  </nav>
</header>

    
    <div class="contents">
      
<article>
  <div class="meta">
  <time class="date">
    
    Mon Aug 8 2016
    
  </time>
  <div class="comments">
    <a href="http://ixday.github.io/post/linux_mint_2/#disqus_thread">
      <span class="disqus-comment-count" data-disqus-identifier="IxDay">
      </span>
      comments
    </a>
  </div>
  <p class="categories">
  
  <a href="/categories/os">OS</a>
  
  </p>
</div>

  <div class="caption">
    <header>
      <h2>Linux Mint 2</h2>

      
      <p class="tags">
      <strong>Tagged</strong>
      <a href="/tags/admin ">admin</a>

      </p>
      

    </header>
    <p>I recently messed up my laptop (do not play with <code>/etc/apt/preferences</code> too much!),
and I had to reinstall my distro. I checked my <a href="http://ixday.github.io/post/linux_mint/">previous article</a>
and noticed some missing informations. So here is a second article of things
I needed to fixup when installing LMDE on my Macbook.
</p>

<h2 id="installation">Installation</h2>

<p>First, for the creation of the usb key, I ended up using the method described
in the <a href="https://wiki.archlinux.org/index.php/USB_flash_installation_media#In_GNU.2FLinux">archlinux wiki</a>. Basically, this was the command line I entered:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="s1f40">dd </span><span class="s7d0">bs</span><span class="s1f40"></span><span class="sfa0">=</span><span class="s1f40">4M </span><span class="s3e8">if</span><span class="s1f40"></span><span class="sfa0">=</span><span class="s1f40">/path/to/lmde.iso </span><span class="s7d0">of</span><span class="s1f40"></span><span class="sfa0">=</span><span class="s1f40">/dev/sdb # /dev/sdb is my usb key </span><span class="sfa0">(</span><span class="s1f40">lsblk FTW</span><span class="sfa0">)</span><span class="s1f40"> </span></code></pre>
</div>
<p>Then, for the partitioning I forgot to tell the filesystem needed by each part,
so here is lsblk to the rescue:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="s1f40">$ sudo lsblk -o NAME,FSTYPE,MOUNTPOINT
</span><span class="s1f40">NAME               FSTYPE      MOUNTPOINT
</span><span class="s1f40">sda
</span><span class="s1f40">├─sda1             hfsplus
</span><span class="s1f40">├─sda2             vfat        /boot/efi
</span><span class="s1f40">├─sda3             ext4        /boot
</span><span class="s1f40">└─sda4             LVM2_member
</span><span class="s1f40">  ├─vg_ssd-lv_root ext4        /
</span><span class="s1f40">  └─vg_ssd-lv_swap swap        </span><span class="sfa0">[</span><span class="s1f40">SWAP</span><span class="sfa0">]</span><span class="s1f40">
</span><span class="s1f40">sdb                iso9660
</span><span class="s1f40">├─sdb1             iso9660     /media/max/LMDE </span><span class="sc80">2</span><span class="s1f40"> Cinnamon </span><span class="sc80">64</span><span class="s1f40">-bit
</span><span class="s1f40">└─sdb2             vfat</span></code></pre>
</div>
<p>(sudo needed to output the fs, see <code>man lsblk</code> for more informations)</p>

<h2 id="configuration">Configuration</h2>

<h3 id="preferences">Preferences</h3>

<p>This time I will try to avoid messing up with the packages, here is what I have
done.</p>

<p>I want to add unstable and experimental repos, so I created a source file:
<code>/etc/apt/sources.list.d/debian-package-repositories.list</code></p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="s1770"># https://wiki.debian.org/SourcesList
</span><span class="s1770"></span><span class="s1f40">
</span><span class="s1f40">deb http://httpredir.debian.org/debian sid main contrib non-free
</span><span class="s1f40">deb-src http://httpredir.debian.org/debian sid main contrib non-free
</span><span class="s1f40">
</span><span class="s1f40">deb http://httpredir.debian.org/debian experimental main contrib non-free
</span><span class="s1f40">deb-src http://httpredir.debian.org/debian experimental main contrib non-free</span></code></pre>
</div>
<p>Now it is time to set up the preferences. But here is the trick, by default
Mint set up a Pin-Priority 700 to all the Debian packages.
This will bring unstable packages at the same level as those from stable.</p>

<p>See the file <code>/etc/apt/preferences.d/debian-package-repositories.pref</code>, in
order to have a good priority across those repos replace the content with:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="s1f40">Package: *
</span><span class="s1f40">Pin: release </span><span class="s7d0">a</span><span class="s1f40"></span><span class="sfa0">=</span><span class="s1f40">stable
</span><span class="s1f40">Pin-Priority: </span><span class="sc80">550</span><span class="s1f40">
</span><span class="s1f40">
</span><span class="s1f40">Package: *
</span><span class="s1f40">Pin: release </span><span class="s7d0">a</span><span class="s1f40"></span><span class="sfa0">=</span><span class="s1f40">unstable
</span><span class="s1f40">Pin-Priority: </span><span class="sc80">450</span></code></pre>
</div>
<p>Now, just a <code>apt-get update</code> and we are ready to install packages safely</p>

<h3 id="tearing">Tearing</h3>

<p>I had a tearing issue on my macbook, which I was able to spot and test with
<a href="https://www.youtube.com/watch?v=ceX18O9pvLs">this video</a>.</p>

<p>I followed the instructions from the <a href="https://wiki.archlinux.org/index.php/intel_graphics#Tear-free_video">arch wiki</a>. It makes me create <code>/etc/X11/xorg.conf.d/20-intel.conf</code> file, and
fill it with:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="s1f40">Section </span><span class="sc1c">&#34;Device&#34;</span><span class="s1f40">
</span><span class="s1f40">   Identifier  </span><span class="sc1c">&#34;Intel Graphics&#34;</span><span class="s1f40">
</span><span class="s1f40">   Driver      </span><span class="sc1c">&#34;intel&#34;</span><span class="s1f40">
</span><span class="s1f40">   Option      </span><span class="sc1c">&#34;AccelMethod&#34;</span><span class="s1f40">  </span><span class="sc1c">&#34;sna&#34;</span><span class="s1f40">
</span><span class="s1f40">   Option      </span><span class="sc1c">&#34;TearFree&#34;</span><span class="s1f40">     </span><span class="sc1c">&#34;true&#34;</span><span class="s1f40">
</span><span class="s1f40">   Option      </span><span class="sc1c">&#34;DRI&#34;</span><span class="s1f40">          </span><span class="sc1c">&#34;3&#34;</span><span class="s1f40">
</span><span class="s1f40">EndSection</span></code></pre>
</div>
<p>I restarted X (restart the computer in order to be sure :p), and it now works
(hopefully).</p>

<h3 id="webcam">Webcam</h3>

<p>I had issues with my webcam too. <a href="https://wiki.archlinux.org/index.php/MacBook#Webcam">I followed archwiki again</a>. This one is not
confirmed but no command failed, and the test with mplayer at the end seemed
to work:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="s1f40">mplayer tv:// -tv </span><span class="s7d0">driver</span><span class="s1f40"></span><span class="sfa0">=</span><span class="s1f40">v4l2:width</span><span class="sfa0">=</span><span class="sc80">320</span><span class="s1f40">:height</span><span class="sfa0">=</span><span class="sc80">240</span><span class="s1f40">:device</span><span class="sfa0">=</span><span class="s1f40">/dev/video0 -fps </span><span class="sc80">30</span></code></pre>
</div>
<h2 id="programs">Programs</h2>

<h3 id="neovim">Neovim</h3>

<p>I replaced <code>vim</code> with <code>neovim</code>, and put all the configuration in the
<code>.config/nvim</code> directory. It works out of the box, without changing a thing in
the configuration, except the paths for the plugins (which were in <code>~/.vim</code>).</p>

<p>To install <code>neovim</code> you will need the experimental packages described in
the first part of this post.</p>

<h3 id="golang">Golang</h3>

<p>I wanted Golang 1.6 (not the 1.3 version from stable). So, I read the
documentation and asked forum. And I discovered the <code>-t</code> option in <code>apt-get</code>
which allows as long as it does not broke package integrity to install
from different versions.</p>

<p>I simply typed the following command to have the version needed:</p>

<p><code>apt-get install -t unstable golang</code></p>

<h3 id="docker">Docker</h3>

<p>Docker is available in the unstable repository, but this one broke some other
dependencies. I had to install it with a custom repo following
<a href="https://gist.github.com/bhgraham/ed9f8242dc610b1f38e5">those instructions</a>.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="s1770"># Add the repo to a dedicated source.list file
</span><span class="s1770"></span><span class="s7d0">echo</span><span class="s1f40"> </span><span class="sc1c">&#34;deb https://get.docker.com/ubuntu docker main&#34;</span><span class="s1f40"> &gt; </span><span class="sc25">\
</span><span class="sc25"></span><span class="s1f40">       /etc/apt/sources.list.d/docker.list
</span><span class="s1f40">
</span><span class="s1f40"></span><span class="s1770"># Add repo keyring
</span><span class="s1770"></span><span class="s1f40">apt-key adv --keyserver keyserver.ubuntu.com --recv-keys </span><span class="sc25">\
</span><span class="sc25"></span><span class="s1f40">       36A1D7869245C8950F966E92D8576A8BA88D21E9
</span><span class="s1f40">
</span><span class="s1f40"></span><span class="s1770"># Update and install the package
</span><span class="s1770"></span><span class="s1f40">apt-get update -qq </span><span class="sfa0">&amp;&amp;</span><span class="s1f40"> sudo apt-get install -y lxc-docker
</span><span class="s1f40">
</span><span class="s1f40"></span><span class="s1770"># Add my user to the docker group
</span><span class="s1770"></span><span class="s1f40">gpasswd -a &lt;my_user_name&gt; docker
</span><span class="s1f40">
</span><span class="s1f40"></span><span class="s1770"># Enable the docker service for the next start
</span><span class="s1770"></span><span class="s1f40">systemctl </span><span class="s7d0">enable</span><span class="s1f40"> docker</span></code></pre>
</div>
<p>Now logout, and reconnect and it should work.</p>

<h3 id="python">Python</h3>

<p>I always need some base packages in order to start developing, so those are
the most basic one I need in my daily life:</p>

<p><code>apt-get install python-dev libxml2-dev libxslt-dev virtualenv libyaml-dev</code></p>

<p>(be sure to install the <code>virtualenv</code> package and not the <code>python-virtualenv</code> one,
because it will not add the binary to the <code>PATH</code>).</p>
  </div>
</article>
<div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "IxDay" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </div>
    

    <footer id="footer">
	<p>&copy; 2018 IxDay</p>
	<p>Done with love... and beer</p>
  <p>Powered by <a href="http://gohugo.io" target="_blank">Hugo</a>,</p>
</footer>

    </div>
  </body>
</html>
